# 模块说明

主要是对各个模块进行详细的讲解说明, 方便快速了解功能;

## 视频

番剧主要是用来上架一些动画的, 当然后台里叫视频, 理论上可以不限于番剧的;

### 分类

- 分类的话目前有地区, 年份以及类型三大块, 地区和年份这个无所谓, 主要是筛选的时候会用到, 一般不用太过留心;
- 而类型这个就比较重要了, 3.0 版是分成六大类型的, 但是可能无法完全概括, 所以这版可以自由设定, 但还是推荐分成大概六类会好一点;
- 分类支持多层嵌套, 番剧只能勾选一个分类, 根据分类搜索的话会将子节点下的番剧都搜索出来, 所以层级不复杂的话就不要嵌套了;

### 批量编辑

- 分类这些不勾选的话代表不修改, 而状态是一定会修改的, 所以要注意;
- 批量删除,全部删除都会有弹窗提示, 表格里面的单项删除则不会有提示;

### 详情编辑

- **标题**: 展示的标题;
- **别名**: 这个是唯一索引, 所以最好使用特征性强一点的, 数据统计中的评论以及弹幕都是用正则筛选这一名下的, 为了避免文章这些相互冲突, 建议别名形式为:av00001, 最好是纯英文+数字, 中文不保证会出什么问题, 前端也是用这个来展示链接的, 怕被人扫就弄个随机的
- **状态**: 只有审核通过的才会展示出来
- **连载**: 前台会展示连载中的番剧, 不用自己手动勾选
- **评分**: 这个可以参考豆瓣或者啥的, 暂时不支持用户打分, 感觉没啥必要, 评分系统有点难做
- **更新时间**: 载中的才有必要, 完结的就不用弄了, 默认就行
- **等级限定**: 有用户等级高于或等于此等级的才会显示播放链接, 但是搜索还是能搜索出来的, 所以想要完全屏蔽是不行的
- **播放类型**: 直链指的是能够在 dplayer 直接播放的格式, 包括 mp4, 而 flv, m3u8 则不支持, 解析则是第三方的, 目前做了正则匹配
- **下载**: 主要是在页面上展示一个下载的 button, 这个是所有人都能看的, 没有等级限定, 至于以后会不会做限定, 暂时不知道
- **链接前缀**: 这个是针对直链的, 用自己的服务器存储视频的话会有很多重复的结构, 所以这个主要是减少反复填写, 格式的话就是 /av00001, 前面带斜杠, 后面不带
- **横向图**: 一般是用来做一些宣传的, 比如说轮播, 首页置顶推荐, 这些都会展示横向图, 把这些需要展示的勾选到一个分类即可
- **竖向图**: 正常的显示图片, 基本上必填
- **标签**: 以英文逗号分割, 然后点击按钮就能批量添加了, 这个主要是方便索引

### 剧集

- 为了方便起见, 后台会将每一集生成一个 ID, 比如第一季第一集则是 av00001S01E01, 这样评论以及弹幕都会用此 ID 来定位, ID 只跟剧集的数量排位有关, 删除了这集则会顺位到下一集, 并不惟一
- B 站弹幕 ID 这个参考 dplayer 的设定
- 剧集链接这个我们需要输入季数加剧集的完整路径, 比如说 /S01/01.mp4
- 里面的顺序就是实际的展示顺序, 不要弄乱了, 至于为啥不能拖拽中间添加等, 暂时没做功能, 太费事了, 以后看能不能弄

### 数据统计

- 默认展示最近一个星期的数据
- 里面的数据仅供参考, 不一定十分的准, 但是大致是没啥问题的

### 评论弹幕

- 这个其实所属的是每一集, 所以这里是根据番剧的别名正则匹配的, 评论弹幕的 ID 里面包含别名则会算到里面
- 全部删除则是会删除该番剧下面搜索出的所有评论弹幕, 一般不会用到吧

## 漫画

针对漫画的格式, 跟漫画其实比较类似

### 分类

- 分类的话可以自由设定
- 分类支持多层嵌套, 只能勾选一个分类, 根据分类搜索的话会将子节点下的漫画都搜索出来, 所以层级不复杂的话就不要嵌套了

### 批量编辑

- 分类这些不勾选的话代表不修改, 而状态是一定会修改的, 所以要注意
- 批量删除,全部删除都会有弹窗提示, 表格里面的单项删除则不会有提示

### 详情编辑

- **标题**: 展示的标题
- **别名**: 这个是唯一索引, 所以最好使用特征性强一点的, 为了避免文章这些相互冲突, 建议别名形式为:cv00001, 最好是纯英文+数字, 中文不保证会出什么问题, 前端也是用这个来展示链接的, 怕被人扫就弄个随机的
- **状态**: 只有审核通过的才会展示出来
- **连载**: 前台会展示连载中的漫画, 不用自己手动勾选
- **评分**: 这个可以参考豆瓣或者啥的, 暂时不支持用户打分, 感觉没啥必要, 评分系统有点难做
- **更新时间**: 连载中的才有必要, 完结的就不用弄了, 默认就行
- **等级限定**: 只有用户等级高于或等于此等级的才会显示播放链接, 但是搜索还是能搜索出来的, 所以想要完全屏蔽是不行的
- **下载**: 主要是在页面上展示一个下载的 button, 这个是所有人都能看的, 没有等级限定, 至于以后会不会做限定, 暂时不知道
- **链接前缀**: 这个是针对直链的, 用自己的服务器存储视频的话会有很多重复的结构, 所以这个主要是减少反复填写, 格式的话就是 /av00001, 前面带斜杠, 后面不带
- **横向图**: 一般是用来做一些宣传的, 比如说轮播, 首页置顶推荐, 这些都会展示横向图, 把这些需要展示的勾选到一个分类即可
- **竖向图**: 正常的显示图片, 基本上必填
- **标签**: 以英文逗号分割, 然后点击按钮就能批量添加了, 这个主要是方便索引

### 剧集

- 为了方便起见, 后台会将每一集生成一个 ID, 比如第一集则是 cv00001E01, ID 只跟剧集的数量排位有关, 删除了这集则会顺位到下一集, 并不惟一
- 文件夹名称这个我们需要输入漫画图片存储的文件夹, 里面的图片名是按照顺序排好就行, 不一定非要数字排序
- 里面的顺序就是实际的展示顺序, 不要弄乱了, 至于为啥不能拖拽中间添加等, 暂时没做功能, 太费事了, 以后看能不能弄

### 数据统计

- 默认展示最近一个星期的数据
- 里面的数据仅供参考, 不一定十分的准, 但是大致是没啥问题的

### 评论

- 这个其实所属的是每一集, 所以这里是根据漫画的别名正则匹配的, 评论的 ID 里面包含别名则会算到里面
- 全部删除则是会删除该蛮王下面搜索出的所有评论

## 文章

文章支持 markdown 编辑器, 可上传图片, 所以前后台编辑没啥太大的区别, 一般放点资讯或者公告就行, 想要做成那种登录下载资源的也行, 毕竟有等级限定

### 分类

- 分类的话可以自由设定
- 分类支持多层嵌套, 只能勾选一个分类, 根据分类搜索的话会将子节点下的文章都搜索出来

### 批量编辑

- 分类这些不勾选的话代表不修改, 而状态是一定会修改的, 所以要注意
- 批量删除,全部删除都会有弹窗提示, 表格里面的单项删除则不会有提示

### 详情编辑

- **等级限定**: 只有用户等级高于或等于此等级的才会显示内容, 普通用户只能看到标题简介
- **状态**: 只有审核通过的才会展示出来
- **封面**: 正常的显示图片, 一般都是横向图居多
- **标签**: 以英文逗号分割, 然后点击按钮就能批量添加了, 这个主要是方便索引
- **标题**: 展示的标题
- **别名**: 这个是唯一索引, 所以最好使用特征性强一点的, 建议别名形式为:pv00001, 最好是纯英文+数字, 中文不保证会出什么问题, 前端也是用这个来展示链接的, 怕被人扫就弄个随机的
- **简介**: 手动填写一下, 主要是外面展示用的一部分信息
- **内容**: 文章主体部分

### 数据统计

- 默认展示最近一个星期的数据
- 里面的数据仅供参考, 不一定十分的准, 但是大致是没啥问题的

### 评论

- 搜索的话是搜索评论内容
- 全部删除则是会删除该文章下面搜索出的所有评论

## 用户

用户这块比较复杂, 需要注意一下, 管理员拥有最大的权限, 同时也是唯一能够编辑的角色, 最好不要设定多个管理员, 因为是可以相互删除的

### 基本信息

- **等级**: 用户的实际等级, 0 级为游客, 也就是未注册登录用户,1 级为注册用户, 100 集为管理员, 中间的那些就自由发挥了
- **积分**: 积分主要是根据用户评论等添加一定的积分, 目前的话暂未完成
- **金钱**: 充值的
- **会员剩余**: 这是用来添加会员有效期的, 单位是秒, 表示过了这段时间后会将等级降为 1
- **状态**: 待验证则是表示需要用邮箱验证, 已删除表示用户提出删除账户的请求

### 批量编辑

- 批量编辑默认会忽略等级 100 的, 也就是管理员, 但是单独编辑的话则不会忽略
- 分类这些不勾选的话代表不修改, 而状态是一定会修改的, 所以要注意
- 批量删除,全部删除都会有弹窗提示, 表格里面的单项删除则不会有提示

### 其他

- 里面罗列了该用户的所有评论等等, 便于直观化

## 商品

商品主要售卖的是等级以及会员剩余时间, 所以想要卖钱的话就先设定一个等级系统, 然后根据等级来发布相应的番剧文章等等

### 商品列表

- **提升等级**: 用户会提升到该等级, 而不是直接添加, 即使用户 99 级, 购买了一个 1 级套餐依旧会变成 1 级
- **有效期**: 有效期的话则是直接添加, 积分同理
- **状态**: 上架的才会展示出来

### 订单列表

- 主要是用来查询订单记录, 每天看看, 有异常的话也好有个记录
- 用户投诉的话就发个订单号看看有没有添加上去

### 激活码

- 激活码这个可用于充值金额, 到时候生成了然后拿去发卡平台卖就是

## 评论

此处则集合所有的评论,并不区分层级, 因为考虑到评论深层嵌套的情况并不算多, 没必要单独进行处理

### 列表

- **标题**: 标题则是根据不同的地方产生的给个分类, 番剧漫画以及文章都会给出标题, 点击即可跳转详情页
- **分类**: 番剧, 漫画, 文章, 讨论, 评论这几种
- **图片与视频**: 这两类视具体的前端展示为主, 功能有, 但是用不用则是要考虑考虑
- **状态**: 评论要审核这个可能不太人性化, 准备在后台给个设置项, 但是这样有点麻烦, 所以考虑做不做

## 弹幕

弹幕用的是 dplayer 的格式, 理论上来说可以兼容的, 这样省去制作弹幕接口了

### 列表

- 目前功能的话则是能够删除, 至于筛选那些无所谓了, 排下序然后批量编辑就行
- 没有做登录限定, 任何用户都能发送弹幕, 虽然限制登录是趋势, 但是考虑到很多站用户比较少, 所以暂时不弄了

## 举报

这个功能其实主要是可以让用户实时看到自己的举报进度以及回复内容

### 列表

- 举报对象显示已删除则说明没有找到, 可以直接删了
- 用手也可以发送图片来让你知道详情
- 状态的话自己调整,回复完不要删了, 这里的东西最好不要删, 留个记录就行

## 图片

这个功能主要是管理用户上传的图片, 会遍历文件夹内的所有图片然后展示, 删除可减少服务器存储空间

### 列表

- 里面的分类主要是后台设定的, 相应上传的图片都会到这里面来, 而且你也不知道用户会不会正在使用这张图片, 所以一般不要删除, 除非是一些涉黄的或者严重影响观感的

## 设置

后台的设置项

### 基本信息

- 这些都是基本的一些信息,简单填填就行

### 图片设置

- 主要是一些默认图片的展示, 需要设置

### 界面定制

- 暂时功能不多, 预计后续开放更多的功能

### 播放设置

- 等级限定则是表示不同的等级有着不同的播放来源, 功能很实用, 用不到的话则填写 0 级
- 用户等级大于或等于该等级时才会应用, 密钥和过期时间则是配合 nginx 的 secure link 的, 简单但也比较实用
- 如果视频端没有设置密钥或者过期时间, 那这些都不会生效
- 解析的话则是根据正则匹配的, 多个正则命中时,会自动随机匹配一个

### 邮箱设置

- smtp 以及 sendgrid, 其他的方式暂不支持
