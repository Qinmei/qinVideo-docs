<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>基本信息 | Qinvideo</title>
    <meta name="description" content="一款基于nodejs的动漫CMS系统">
    <link rel="icon" href="/qinvideo-docs/logo.svg">
    
    <link rel="preload" href="/qinvideo-docs/assets/css/0.styles.faff2713.css" as="style"><link rel="preload" href="/qinvideo-docs/assets/js/app.8259466c.js" as="script"><link rel="preload" href="/qinvideo-docs/assets/js/2.f306dce7.js" as="script"><link rel="preload" href="/qinvideo-docs/assets/js/6.4a903ad7.js" as="script"><link rel="prefetch" href="/qinvideo-docs/assets/js/3.317b383f.js"><link rel="prefetch" href="/qinvideo-docs/assets/js/4.e2e0255b.js"><link rel="prefetch" href="/qinvideo-docs/assets/js/5.b0ed9747.js"><link rel="prefetch" href="/qinvideo-docs/assets/js/7.503ee893.js"><link rel="prefetch" href="/qinvideo-docs/assets/js/8.63ab7a0c.js">
    <link rel="stylesheet" href="/qinvideo-docs/assets/css/0.styles.faff2713.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/qinvideo-docs/" class="home-link router-link-active"><!----> <span class="site-name">Qinvideo</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/qinvideo-docs/page/" class="nav-link router-link-exact-active router-link-active">文档</a></div><div class="nav-item"><a href="http://demo.qinvideo.org" target="_blank" rel="noopener noreferrer" class="nav-link external">
  前端演示
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="http://demo.qinvideo.org/qinmei" target="_blank" rel="noopener noreferrer" class="nav-link external">
  后台演示
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/qinvz/qinvideo" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/qinvideo-docs/page/" class="nav-link router-link-exact-active router-link-active">文档</a></div><div class="nav-item"><a href="http://demo.qinvideo.org" target="_blank" rel="noopener noreferrer" class="nav-link external">
  前端演示
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="http://demo.qinvideo.org/qinmei" target="_blank" rel="noopener noreferrer" class="nav-link external">
  后台演示
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/qinvz/qinvideo" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/qinvideo-docs/page/" class="active sidebar-link">基本信息</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/qinvideo-docs/page/#系统简介" class="sidebar-link">系统简介</a></li><li class="sidebar-sub-header"><a href="/qinvideo-docs/page/#安装说明" class="sidebar-link">安装说明</a></li><li class="sidebar-sub-header"><a href="/qinvideo-docs/page/#疑问解答" class="sidebar-link">疑问解答</a></li><li class="sidebar-sub-header"><a href="/qinvideo-docs/page/#更新记录" class="sidebar-link">更新记录</a></li></ul></li><li><a href="/qinvideo-docs/section/" class="sidebar-link">模块说明</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="基本信息"><a href="#基本信息" aria-hidden="true" class="header-anchor">#</a> 基本信息</h1> <h2 id="系统简介"><a href="#系统简介" aria-hidden="true" class="header-anchor">#</a> 系统简介</h2> <p>一套基于 nodejs + mongodb 的前后端分离 CMS 管理系统, 主要包括番剧, 漫画, 文章三大类,
同时带有评论, 用户, 商品, 弹幕等功能</p> <img src="/qinvideo-docs/logo.svg" alt="foo" width="120"> <h3 id="依赖"><a href="#依赖" aria-hidden="true" class="header-anchor">#</a> 依赖</h3> <ul><li><strong>nodejs</strong>: 8.0 以上版本</li> <li><strong>mongodb</strong>: 4.0 以上版本</li> <li><strong>nginx</strong>: 随意了</li></ul> <h3 id="版本"><a href="#版本" aria-hidden="true" class="header-anchor">#</a> 版本</h3> <p>目前的版本为 <strong>4.0</strong>, 之前的版本均基于 Wordpress 开发而来,是一个全新的版本, 所以可能存在一些 BUG;</p> <h3 id="使用交流"><a href="#使用交流" aria-hidden="true" class="header-anchor">#</a> 使用交流</h3> <p>对于 BUG 一类的问题, 请在 github 上面提 issue, 如果看到会及时处理
使用上的问题请加 QQ 群:<strong>1007111688</strong>, 不保证一定解答, 仅仅提供一个交流的地方</p> <h3 id="功能"><a href="#功能" aria-hidden="true" class="header-anchor">#</a> 功能</h3> <p>目前的三大模块分别是番剧, 漫画, 文章, 商品系统采用的是激活码形式;</p> <h3 id="番剧"><a href="#番剧" aria-hidden="true" class="header-anchor">#</a> 番剧</h3> <ul><li><p>目前支持直链,解析,m3u8, 直链可设置密钥与过期时间结合 nginx secure link 使用,解析则支持正则匹配</p></li> <li><p>数据统计功能, 可以大概的看出历史趋势</p></li> <li><p>弹幕功能, 内部自带弹幕接口, 使用的是 dlilayer 的数据格式, 可无缝使用 dlilayer</p></li> <li><p>支持多季多集, 分类, 评论以及等级限定</p></li></ul> <h3 id="漫画"><a href="#漫画" aria-hidden="true" class="header-anchor">#</a> 漫画</h3> <ul><li>暂只支持本地图片, 需要手动上传图片到指定文件夹目录内, 然后根据路径自动遍历所有图片</li> <li>数据统计功能, 可以大概的看出历史趋势</li> <li>目前只支持多话, 分类, 评论以及等级限定, 不支持多季</li></ul> <h3 id="文章"><a href="#文章" aria-hidden="true" class="header-anchor">#</a> 文章</h3> <ul><li>使用的是 markdown 可视化编辑器</li> <li>数据统计功能, 可以大概的看出历史趋势</li> <li>支持分类,评论以及等级限定</li></ul> <h3 id="商品"><a href="#商品" aria-hidden="true" class="header-anchor">#</a> 商品</h3> <ul><li>套餐售卖的是用户的等级以及过期时间</li> <li>激活码可生成不同价格的, 用户使用激活码即可增加账户余额</li> <li>用户购买套餐会扣除账户余额, 然后提升等级, 积分以及有效期</li> <li>结合三大类的等级限定以及套餐便可实现简单的会员系统, 后续再看需不需要优化</li></ul> <h2 id="安装说明"><a href="#安装说明" aria-hidden="true" class="header-anchor">#</a> 安装说明</h2> <p>使用 pm2 启动, 需要自行安装 nodejs + mongodb + nginx,更新的话需要下载文件然后重启数据库,图片等请备份 img 文件夹;</p> <h3 id="_1-安装-mongodb"><a href="#_1-安装-mongodb" aria-hidden="true" class="header-anchor">#</a> 1. 安装 mongodb</h3> <p>直接安装 mongodb, 然后新建个数据库命名为 qinvideo 或者其他啥的,最好新建个单独的用户来管理该数据库;</p> <p>宝塔面板安装的没有单独的用户与密码, 所以为了安全起见密码设的复杂一点;
如果不需要使用数据库工具链接的话, 可以直接禁止外部访问该端口;</p> <h3 id="_2-安装-nodejs"><a href="#_2-安装-nodejs" aria-hidden="true" class="header-anchor">#</a> 2. 安装 nodejs</h3> <p>宝塔一键安装 node， appnode 在软件管家搜索 nodejs 即可，安装完之后 node -v 看看版本信息，没有提示的话可能安装有问题;</p> <p>下载 zip 压缩包到服务器， 然后找个文件夹解压即可;</p> <p>在文件目录里使用 npm install 命令， 安装依赖;</p> <p>修改根目录里面的 config.js 文件， mongodb 的 uri 填写你自己的数据库地址，格式为'mongodb://账号:密码@地址:端口/数据库'，salt 是用户密码的盐值， 填写个别人不知道的就行， tokenSecret 是验证的加密码， 也填写个唯一的,<strong>在没有配置好之前不要运行</strong></p> <h3 id="_3-安装-nginx"><a href="#_3-安装-nginx" aria-hidden="true" class="header-anchor">#</a> 3. 安装 nginx</h3> <p>安装 nginx, 然后创建静态网站,网站的程序目录填写上面的 nodejs 的 public 文件夹;</p> <p>给与 public 与 uploads 文件夹 777 权限 然后将用户组分配给 www;</p> <p>在网站的配置文件里面加上以下的代码, 然后重启 nginx 即可;</p> <div class="language-apacheconf extra-class"><pre class="language-apacheconf"><code>client_max_body_size 20M;
location /api/ {
    proxy_pass      http://localhost:9000/;
    proxy_redirect  off;
    proxy_set_header Host <span class="token variable">$host</span>;
    proxy_set_header X-Real-IP <span class="token variable">$remote_addr</span>;
    proxy_set_header X-Forwarded-For <span class="token variable">$proxy_add_x_forwarded_for</span>;
}

location /qinmei {
    <span class="token directive-inline property">alias</span>      /home/qinvideo-node/public;
    index      /backend/index.html;
    try_files  <span class="token variable">$uri</span> <span class="token variable">$uri</span>/ /backend/index.html?<span class="token variable">$args</span>;
}

location /web {
    <span class="token directive-inline property">alias</span>      /home/qinvideo-node/public;
    index      /pc/index.html;
    try_files  <span class="token variable">$uri</span> <span class="token variable">$uri</span>/ /pc/index.html?<span class="token variable">$args</span>;
}

location /m {
    <span class="token directive-inline property">alias</span>      /home/qinvideo-node/public;
    index      /h5/index.html;
    try_files  <span class="token variable">$uri</span> <span class="token variable">$uri</span>/ /h5/index.html?<span class="token variable">$args</span>;
}

location =/ {
    if (<span class="token variable">$http_user_agent</span> ~* (mobile|nokia|iphone|ipad|android|samsung|htc|blackberry)) }
        rewrite  <span class="token regex">^(.*) </span><span class="token variable">$scheme:</span>//<span class="token variable">$host</span>/m/ permanent;
    }

    if (<span class="token variable">$http_user_agent</span> !~* (mobile|nokia|iphone|ipad|android|samsung|htc|blackberry))}
      rewrite  <span class="token regex">^(.*) </span><span class="token variable">$scheme:</span>//<span class="token variable">$host</span>/web/ permanent;
    }
}
</code></pre></div><h3 id="_4-运行"><a href="#_4-运行" aria-hidden="true" class="header-anchor">#</a> 4. 运行</h3> <p>在 node 的根目录运行 node app.js 即可测试链接情况， 后台运行的话可以使用 PM2 进行进程守护;</p> <p>网址/qinmei 则是后台管理面板的地址， /web 则是 PC 端的前端地址， /m 则是移动端的前端地址;</p> <h2 id="疑问解答"><a href="#疑问解答" aria-hidden="true" class="header-anchor">#</a> 疑问解答</h2> <p>主要是将一些出现频率较高或大家关心的问题做个解答, 方便使用</p> <h4 id="_1-qinvideo-现在能用吗-啥时候能用"><a href="#_1-qinvideo-现在能用吗-啥时候能用" aria-hidden="true" class="header-anchor">#</a> 1.qinvideo 现在能用吗?啥时候能用?</h4> <p>目前的话尚处于测试阶段, 所以请不要用于正式环境, 有问题可以及时提出, 以便于正式版的早点发布</p> <h4 id="_2-项目是开源的吗-高级版指的又是啥"><a href="#_2-项目是开源的吗-高级版指的又是啥" aria-hidden="true" class="header-anchor">#</a> 2.项目是开源的吗?高级版指的又是啥?</h4> <p>本项目是开源的, 但是为了兼顾到一些有需求的用户, 顺便改善下作者生活, 本系统预计将会做两个版本, 免费版与高级版</p> <p>免费版的话基本功能一应俱全, 也不做啥阉割, 不存在什么故意限制数量, 针对个人来说, 完全能用</p> <p>高级版主要是针对一些商业用户, 不喜欢手动上架, 啥都要批量, 所以功能这块主要是增加批量导入更新等, 能够快速的建立起一个资源丰富的站点, 目前高级功能尚未开发, 到也不用着急</p> <h4 id="_3-免费版能够无缝升级到高级版吗"><a href="#_3-免费版能够无缝升级到高级版吗" aria-hidden="true" class="header-anchor">#</a> 3.免费版能够无缝升级到高级版吗?</h4> <p>目前的规划是高级版的功能会内置到系统里面, 然后开通账户就能直接使用了, 所以理论上来说是无缝升级的, 但是由于高级版的功能还没开始写, 后续数据结构可能会变, 所以在正式版本还没出来之前, 都不好说</p> <h4 id="_4-以后推出的新主题可以免费使用吗"><a href="#_4-以后推出的新主题可以免费使用吗" aria-hidden="true" class="header-anchor">#</a> 4.以后推出的新主题可以免费使用吗?</h4> <p>这个嘛, 结果当然是否定的, 免费版会自带一套主题, 更多的就需要购买了, 当然, 如果你自己有能力开发一套, 那就不存在问题了</p> <h4 id="_5-app-是怎么做的-可以定制吗"><a href="#_5-app-是怎么做的-可以定制吗" aria-hidden="true" class="header-anchor">#</a> 5.APP 是怎么做的?可以定制吗</h4> <p>APP 是使用 react native 制作而成的, 从目前的使用来看, 流畅度还不错, 但是依旧还需要进行一些调整, 同时打包也需要在本地进行, 所以目前无法做定制化;</p> <h2 id="更新记录"><a href="#更新记录" aria-hidden="true" class="header-anchor">#</a> 更新记录</h2> <ul><li><strong>2019.10.01</strong>     高级功能开发(开发中)</li> <li><strong>2019.08.15</strong>     整体 BUG 修复</li> <li><strong>2019.07.29</strong>     基于 react-native 的 app 开发完成</li> <li><strong>2019.06.23</strong>     移动端主题已经完成</li> <li><strong>2019.06.01</strong>     PC 端主题已经完成</li> <li><strong>2019.05.10</strong>     前台面板开发中</li> <li><strong>2019.04.18</strong>     后台面板基本完善,无明显问题</li> <li><strong>2019.04.01</strong>     文档的整理与官网上线</li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/qinvz/qinvideo/edit/master/page/README.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/qinvideo-docs/section/">
          模块说明
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/qinvideo-docs/assets/js/app.8259466c.js" defer></script><script src="/qinvideo-docs/assets/js/2.f306dce7.js" defer></script><script src="/qinvideo-docs/assets/js/6.4a903ad7.js" defer></script>
  </body>
</html>
